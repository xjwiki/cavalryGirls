/** xjTip(提示标签插件) / V0.1.3 / MIT Licensed / © 2018-2025 XJ.Chen / https://github.com/xjArea/xjTip */
!function(a){var b=window,c=document,d=a(b),e=a(c),f=void 0,g=function(){},h=" ",i="",j="readonly",k="disabled",l="xjTip-",m=function(a){return"string"==typeof a?!0:!1},n=function(a){return"false"===a?!1:!0},o=function(a){clearInterval(a)},p=function(a){return parseInt(a)},q=function(a,b){return Math.min(a,b)},r=function(a,b){return Math.max(a,b)},s={xs:4,sm:4,md:6,lg:8,xl:10},t=l+"drop-shadow",u="click",v="hover",w="mouseenter",x="mouseleave",y="focus",z="blur",A="style",B="fixed",C="0px",D="280px",E="auto",F="autoX",G="autoY",H="top",I="top-left",J="top-right",K="right",L="right-top",M="right-bottom",N="bottom",O="bottom-left",P="bottom-right",Q="left",R="left-top",S="left-bottom",T=l+H,W=l+K,Z=l+N,ab=l+Q,db=T+h+W+h+Z+h+ab;a.fn.xjTip=function(h){var V,X,Y,$,_,bb,cb,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,U={text:i,html:i,node:i,bodyAppend:!0,positionSet:E,className:i,styleText:i,width:E,minWidth:C,maxWidth:D,height:E,minHeight:C,maxHeight:D,align:G,offset:"0,0",color:"black",size:"md",arrow:!0,radius:!0,shadow:!0,ctrlEvent:u,clickClose:!0,followMouse:!1,autoOpen:!1,autoClose:!0,autoForbid:!1,autoIgnore:!0,autoRemove:!0,delayShow:0,delayHide:0,duration:200,easing:"swing",before:g,after:g};return b.xj&&xj.config&&xj.config.xjTip&&a.extend(U,xj.config.xjTip),h&&a.extend(U,h),V=U.text,X=U.html,Y=U.node,$=U.bodyAppend,_=U.positionSet,bb=U.className,cb=U.styleText,eb=U.width,fb=U.minWidth,gb=U.maxWidth,hb=U.height,ib=U.minHeight,jb=U.maxHeight,kb=U.align,lb=U.offset,mb=U.color,nb=U.size,ob=U.arrow,pb=U.radius,qb=U.shadow,rb=U.ctrlEvent,sb=U.clickClose,tb=U.followMouse,ub=U.autoOpen,vb=U.autoClose,wb=U.autoForbid,xb=U.autoIgnore,yb=U.autoRemove,zb=U.delayShow,Ab=U.delayHide,Bb=U.duration,Cb=U.easing,Db=U.before,Eb=U.after,Fb=a("body"),Gb=[],this.each(function(){var Lb,Mb,Nb,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,b="xjTip"+String(Math.random()).slice(2,12),g="."+b,h="#"+b,D=a(this).addClass(b),U=a(),Hb=a(),Ib=a(),Jb=a(),Kb=a(),Ob=D.attr(l+"bodyAppend")||$,Pb=D.attr(l+"positionSet")||_,Qb=D.attr(l+"className")||bb,Rb=D.attr(l+"styleText")||cb,Sb=D.attr(l+"width")||eb,Tb=D.attr(l+"minWidth")||fb,Ub=D.attr(l+"maxWidth")||gb,Vb=D.attr(l+"height")||hb,Wb=D.attr(l+"minHeight")||ib,Xb=D.attr(l+"maxHeight")||jb,Yb=D.attr(l+"align")||kb,Zb=D.attr(l+"offset")||lb,$b=D.attr(l+"color")||mb,_b=D.attr(l+"size")||nb,ac=D.attr(l+"arrow")||ob,bc=D.attr(l+"radius")||pb,cc=D.attr(l+"shadow")||qb,dc=D.attr(l+"ctrlEvent")||rb,ec=D.attr(l+"clickClose")||sb,fc=D.attr(l+"followMouse")||tb,gc=D.attr(l+"autoOpen")||ub,hc=D.attr(l+"autoClose")||vb,ic=D.attr(l+"autoForbid")||wb,jc=D.attr(l+"autoIgnore")||xb,kc=D.attr(l+"autoRemove")||yb,lc=D.attr(l+"delayShow")||zb,mc=D.attr(l+"delayHide")||Ab,nc=D.attr(l+"duration")||Bb,oc=D.attr(l+"easing")||Cb;Zb=Zb?Zb.split(","):lb.split(","),Ob=m(Ob)?n(Ob):$,ac=m(ac)?n(ac):ob,bc=m(bc)?n(bc):pb,cc=m(cc)?n(cc):qb,ec=m(ec)?n(ec):sb,fc=m(fc)?n(fc):tb,gc=m(gc)?n(gc):ub,hc=m(hc)?n(hc):vb,ic=m(ic)?n(ic):wb,jc=m(jc)?n(jc):xb,kc=m(kc)?n(kc):yb,lc=m(lc)?p(lc):zb,mc=m(mc)?p(mc):Ab,nc=m(nc)?p(nc):Bb,"ontouchstart"in document?(fc=!1,pc=D.attr("type"),qc=D[0].nodeName.toLowerCase(),dc==v?dc=u:dc==y&&("input"!=qc||/button|submit|reset|image/i.test(pc))&&"textarea"!=qc&&(dc=u)):fc&&(dc=v),rc=Yb==F||0==Yb.indexOf(K)||0==Yb.indexOf(Q),sc=Yb==G||0==Yb.indexOf(H)||0==Yb.indexOf(N),tc=ac&&rc?s[_b]:0,uc=ac&&sc?s[_b]:0,vc=tc?tc+2:0,wc=uc?uc+2:0,xc=p(Zb[0]),yc=p(Zb[1]),Tc=!1,Uc=i,Vc=f,Wc=f,Xc=function(){fc?(Jc=Rc+Fc+xc+10,Kc=Sc+Gc+yc-Ic/2,Jc+Hc+tc>Fc+Dc&&Rc+Fc-Hc-tc-(xc+10)>=Fc?(Jc=Rc+Fc-Hc-tc-(xc+10),U.addClass(ab)):U.addClass(W),Gc>Kc?(ac&&(Mc=-(Gc-Kc+vc),Oc=-(Ic/2)+vc/2-2,Oc>Mc&&(Mc=Oc),Kb.css({marginTop:Mc})),Kc=Gc):Kc+Ic>Gc+Ec?(ac&&(Mc=Kc+Ic-(Gc+Ec)-vc,Qc=Ic/2-(2*vc+vc/2)+2,Mc>Qc&&(Mc=Qc),Kb.css({marginTop:Mc})),Kc=Gc+Ec-Ic):ac&&Kb.css({marginTop:i})):(Jc=Bc+zc+xc,Kc=Cc+(Ac-Ic)/2+yc,Jc+Hc+tc>Fc+Dc&&Bc-Hc-tc-xc>=Fc?(Jc=Bc-Hc-tc-xc,U.addClass(ab)):U.addClass(W),Ic>Ac&&(Gc>Kc?(ac&&(Mc=-(Gc-Kc+vc),Oc=r(-(Ic/2)+vc/2-2,-(Ic/2)+Ac/2-vc),Oc>Mc&&(Mc=Oc),Kb.css({marginTop:Mc})),Kc=Gc,Kc>Cc&&(Kc=Cc)):Kc+Ic>Gc+Ec?(ac&&(Mc=Kc+Ic-(Gc+Ec)-vc,Qc=q(Ic/2-(2*vc+vc/2)+2,Ic/2-Ac/2-vc),Mc>Qc&&(Mc=Qc),Kb.css({marginTop:Mc})),Kc=Gc+Ec-Ic,Cc+Ac>Ic+Kc&&(Kc=Ac+Cc-Ic)):ac&&Kb.css({marginTop:i})))},Yc=function(){fc?(Jc=Rc+Fc+xc-Hc/2,Kc=Sc+Gc-Ic-uc-yc-10,Gc>Kc?(Kc=Sc+Gc+yc+10,U.addClass(Z)):U.addClass(T),Fc>Jc?(ac&&(Lc=-(Fc-Jc+wc),Nc=-(Hc/2)+wc/2-2,Nc>Lc&&(Lc=Nc),Kb.css({marginLeft:Lc})),Jc=Fc):Jc+Hc>Fc+Dc?(ac&&(Lc=Jc+Hc-(Fc+Dc)-wc,Pc=Hc/2-(2*wc+wc/2)+2,Lc>Pc&&(Lc=Pc),Kb.css({marginLeft:Lc})),Jc=Fc+Dc-Hc):ac&&Kb.css({marginLeft:i})):(Jc=Bc+(zc-Hc)/2+xc,Kc=Cc-Ic-uc-yc,Cc-Kc>Cc-Gc?(Kc=Cc+Ac+yc,U.addClass(Z)):U.addClass(T),Hc>zc&&(Fc>Jc?(ac&&(Lc=Jc-Fc-wc,Nc=r(-(Hc/2)+wc/2-2,-(Hc/2)+zc/2-wc),Nc>Lc&&(Lc=Nc),Kb.css({marginLeft:Lc})),Jc=Fc,Jc>Bc&&(Jc=Bc)):Jc+Hc>Fc+Dc?(ac&&(Lc=Jc+Hc-(Fc+Dc)-wc,Pc=q(Hc/2-(2*wc+wc/2)+2,Hc/2-zc/2-wc),Lc>Pc&&(Lc=Pc),Kb.css({marginLeft:Lc})),Jc=Fc+Dc-Hc,Bc+zc>Hc+Jc&&(Jc=Bc+zc-Hc)):ac&&Kb.css({marginLeft:i})))},Zc=function(){fc?(0==Yb.indexOf(H)?Kc=Sc+Gc-Ic-yc-10:0==Yb.indexOf(K)?Jc=Rc+Fc+xc+10:0==Yb.indexOf(N)?Kc=Sc+Gc+yc+10:0==Yb.indexOf(Q)&&(Jc=Rc+Fc-Hc-xc-10),Yb==I||Yb==O?Jc=Rc+Fc+xc:Yb==H||Yb==N?Jc=Rc+Fc-Hc/2+xc:Yb==J||Yb==P?Jc=Rc+Fc-Hc+xc:Yb==R||Yb==L?Kc=Sc+Gc+yc:Yb==Q||Yb==K?Kc=Sc+Gc-Ic/2+yc:(Yb==S||Yb==M)&&(Kc=Sc+Gc-Ic+yc)):(0==Yb.indexOf(H)?Kc=Cc-Ic-yc:0==Yb.indexOf(K)?Jc=Bc+zc+xc:0==Yb.indexOf(N)?Kc=Cc+Ac+yc:0==Yb.indexOf(Q)&&(Jc=Bc-Hc-xc),Yb==I||Yb==O?Jc=Bc+xc:Yb==H||Yb==N?Jc=Bc+(zc-Hc)/2+xc:Yb==J||Yb==P?Jc=Bc+zc-Hc+xc:Yb==R||Yb==L?Kc=Cc+yc:Yb==Q||Yb==K?Kc=Cc+(Ac-Ic)/2+yc:(Yb==S||Yb==M)&&(Kc=Cc+Ac-Ic+yc))},$c=function(){var a=U.clone().empty().removeAttr("id").css({visibility:"hidden"});Fb.append(a),U.css({top:C,left:C,width:E,height:E}),(Yb==F||Yb==G)&&U.removeClass(db),zc=D.outerWidth(),Ac=D.outerHeight(),Bc=D.offset().left,Cc=D.offset().top,Dc=d.width(),Ec=d.height(),Fc=d.scrollLeft(),Gc=d.scrollTop(),Hc=U.outerWidth(),Ic=U.outerHeight(),Yb==F||Yb==G?U.css({width:Hc+tc,height:Ic+uc}):U.css({width:Hc,height:Ic}),Yb==F?Xc():Yb==G?Yc():Zc(),Uc!=B?U.css({left:Jc,top:Kc}):U.css({left:Jc-Fc,top:Kc-Gc}),a.remove()},_c={that:D,getThis:function(){return D},getTip:function(){return U},getWrap:function(){return Hb},getMain:function(){return Ib},getInner:function(){return Jb},getArrow:function(){return Kb},resize:function(){$c()},destroy:function(a){a?D.remove():D.off(g),U.off(g),_c.hide()},hide:function(){U.stop(!0),setTimeout(function(){Tc=!1}),U.delay(mc+50).animate({opacity:0},nc,oc,function(){U.remove(),d.off(g),e.off(g)})},show:function(){if(U.stop(!0),setTimeout(function(){Tc=!0}),a(h).length)return $c(),U.animate({opacity:1},nc,oc),!1;if(ic&&(D.hasClass(j)||D.prop(j)||D.attr(j)||D.hasClass(k)||D.prop(k)||D.attr(k)))return _c.hide(),!1;if(Lb=D.attr(l+"text")||V,Mb=D.attr(l+"html")||X,Nb=D.attr(l+"node")||Y,Lb||Mb||!Nb||(Vc=/\$\(this\)/i.test(Nb)?D.find(Nb.replace(/\$\(this\)/i,i)):a(Nb)),jc){if(!(Lb||Mb||Nb))return _c.hide(),!1;if(Nb&&!Vc.length)return _c.hide(),!1}U=a('<div class="xjTip" id="'+b+'"></div>'),Hb=a('<div class="xjTip-wrap"></div>'),Ib=a('<div class="xjTip-main"></div>'),Jb=a('<div class="xjTip-inner"></div>'),Kb=a('<div class="xjTip-arrow"></div>'),Ib.append(Jb),Hb.append(Ib),Hb.append(Kb),U.append(Hb),Lb?Jb.text(Lb):Mb?Jb.html(Mb):Vc&&Jb.html(Vc.html()),Qb&&U.addClass(Qb),Rb&&U.attr(A,Rb),"black"!=$b&&U.addClass(l+$b),"md"!=_b&&U.addClass(l+_b),-1==Yb.indexOf(E)&&U.addClass(l+Yb),ac||U.addClass(l+"no-arrow"),bc||U.addClass(l+"no-radius"),cc&&U.addClass(t),Sb!=E&&Ib.css({width:p(Sb)-tc}),Vb!=E&&Ib.css({height:p(Vb)-uc}),Tb!=C&&Ib.css({minWidth:p(Tb)-tc}),Wb!=C&&Ib.css({minHeight:p(Wb)-uc}),Ib.css({maxWidth:p(Ub)-tc}),Ib.css({maxHeight:p(Xb)-uc}),Db(_c),Ob?Fb.append(U):D.before(U.css({position:B})),Pb!=E&&U.css({position:Pb}),Uc=U.css("position"),Eb(_c),$c(),d.on("resize"+g,function(){$c()}),d.on("scroll"+g,function(){$c()}),U.delay(lc).animate({opacity:1},nc,oc),kc&&(o(Wc),Wc=setInterval(function(){c.getElementById(b)||o(Wc),c.getElementsByClassName(b).length||(o(Wc),_c.destroy())},500)),dc==u&&(hc&&e.on(u+g,function(){Tc&&_c.hide()}),0==ec&&U.on(u+g,function(){Tc=!1,setTimeout(function(){Tc=!0})})),dc==v&&(U.on(w+g,function(){_c.show()}),hc&&U.on(x+g,function(){_c.hide()}),ec&&U.on(u+g,function(){_c.hide()})),fc&&e.on("mousemove"+g,function(a){Rc=a.clientX,Sc=a.clientY,$c()})}},dc==u&&D.on(u+g,function(){Tc||_c.show()}),dc==v&&(D.on(w+g,function(a){fc&&(Rc=a.clientX,Sc=a.clientY),_c.show()}),hc&&D.on(x+g,function(){_c.hide()})),dc==y&&(D.on(y+g,function(){_c.show()}),hc&&D.on(z+g,function(){_c.hide()})),gc&&_c.show(),Gb.push(_c)}),1==this.length?Gb[0]:Gb}}(jQuery);
