<!doctype html>
<html lang="zh-hans" class="xj-basic-white">
<head>
<meta charset="utf-8" />

<link rel="shortcut icon" type="image/x-icon" href="../static/icon/favicon.ico" />
<meta property="og:image" content="https://xjwiki.github.io/cavalryGirls/static/icon/xjwiki.png" />

<script src="../static/cjs/_xj.plugins.setting.js?time=2025-11-08T23:59:59UTC+8"></script>
<meta name="viewport" xj-viewport="{minWidth:1280}" content="width=device-width,initial-scale=1" />

<meta name="msvalidate.01" content="96E5D43DAA4C3AC0C4186C4842C1863F" />
<meta name="google-site-verification" content="Jj4aBeybsWE_3JrgbCzW5XnnGJvRgGEuSFrFQ0FaLO4" />
<script>document.addEventListener('DOMContentLoaded', function(){ FastClick.attach(document.body) }, false);</script>

<link rel="stylesheet" href="../static/plugin/xj.ripple/0.5.1/dist/xj.ripple.min.css" />
<link rel="stylesheet" href="../static/plugin/xj.basic/0.5.0/dist/xj.basic.min.css" />
<script src="../static/plugin/xj.viewport/0.3.2/dist/xj.viewport.min.js"></script>
<script src="../static/plugin/xj.storage/0.2.2/dist/xj.storage.min.js"></script>
<script src="../static/plugin/xj.ripple/0.5.1/dist/xj.ripple.min.js"></script>
<script src="../static/plugin/xj.basic/0.5.0/dist/xj.basic.min.js"></script>

<link rel="stylesheet" href="../static/plugin/fortawesome/6.7.2/css/all.min.css" />
<script src="../static/plugin/fastclick/1.0.6/lib/fastclick.min.js"></script>
<script src="../static/plugin/jquery/3.7.1/dist/jquery.min.js"></script>

<link id="prism-theme-white" rel="stylesheet" href="../static/plugin/prismjs/1.25.0/themes/material-light.min.css" />
<link id="prism-theme-black" rel="alternate stylesheet" href="../static/plugin/prismjs/1.25.0/themes/okaidia.min.css" />
<script data-manual="prevent prism auto highlight pre or code" src="../static/plugin/prismjs/1.25.0/prism.min.js"></script>

<link rel="stylesheet" href="../static/plugin/xjScroll/0.4.1/dist/xjScroll.min.css" />
<script src="../static/plugin/xjScroll/0.4.1/dist/xjScroll.min.js"></script>

<link rel="stylesheet" href="../static/plugin/xjDemo/0.1.0/dist/xjDemo.min.css" />
<script src="../static/plugin/xjDemo/0.1.0/dist/xjDemo.min.js"></script>

<link rel="stylesheet" href="../static/plugin/xjDir/0.2.1/dist/xjDir.min.css" />
<script src="../static/plugin/xjDir/0.2.1/dist/xjDir.min.js"></script>

<link rel="stylesheet" href="../static/plugin/xjTip/0.1.3/dist/xjTip.min.css" />
<script src="../static/plugin/xjTip/0.1.3/dist/xjTip.min.js"></script>

<script src="../static/plugin/xjArrive/0.3.2/dist/xjArrive.min.js"></script>

<link rel="stylesheet" href="../static/cjs/_global.css?time=2025-11-08T23:59:59UTC+8" />
<script src="../static/cjs/_global.js?time=2025-11-08T23:59:59UTC+8"></script>

<meta name="description" content="这是铁骑少女这款机战游戏的攻略百科, 包含了游戏玩法和各种数据, 无论你是新手玩家或资深大佬, 在这里都应该能够有所收获" />
<meta name="kyewords" content="铁骑少女, 攻略, 百科, Cavalry Girls, encyclopedia, guide, wiki, xjwiki" />

<title>静态搜索</title>
</head>
<body>



<div id="pub_size"><div id="pub_size_winx"></div><div id="pub_size_winy"></div></div>
<div id="pub_lang"><i>这是用于语言检测的测试句子</i></div>
<div id="pub_pack">



<div id="pub_side">
	<div class="xjScroll" id="xjScroll01" style="width:100%;">
		<div class="xjDir" id="xjDir01" xjDir="{createRipple:false, }" style="padding:8px;width:100%;border-right:none;font-family:inherit;">
			<ul>
				<script>
				// jQuery's :contains 筛选是模糊匹配的, 所以它会匹配到包目标含文本参数的其他节点
				// 为了更精准, 所以这里改用 filter( ) 方法进行过滤, 以实现全匹配才选中节点的效果
				// document.title = xj2.i18n[document.title];
				xj2._dirLinksContent.find('.xjDir-text').filter(function(e){
				return (this.textContent.trim() === document.title) }).parents('li').addClass('xjDir-active');
				$(document.currentScript).replaceWith(xj2._dirLinksContent);
				</script>
			</ul>
		</div>
	</div>
	<script>
	(function(){
		let setDirMinHeight = function(){ $('#xjScroll01').css('height', $('#pub_size')[0].clientHeight) };
		setDirMinHeight();
		$(window).on('resize', setDirMinHeight); 
		if(/Mobile|Android|IOS|iPhone|iPad/i.test(navigator.userAgent)){ $(window).on('scroll', setDirMinHeight) };
		$('#xjScroll01').xjScroll({
			native:true, barsHide:0, barsShow:false, resizeCallbackType:'none', 
			scrollCallback:function(returnObject){ xj.storage.sessionStorage.set('dirPositionY', returnObject.scrollY()) }, 
			operateAfter:function(returnObject){ if(xj.storage.sessionStorage.get('dirPositionY') !== null){ returnObject.scrollY(parseInt(xj.storage.sessionStorage.get('dirPositionY'))) } },
		});
	})();
	</script>
</div>



<div id="pub_wrap">
<div id="pub_head">
	<h1 id="pub_headText"><a class="a-unset" href=""><span>静态搜索</span><small>(快速定位)</small></a></h1>
	
	<form id="pub_headForm" target="_blank" enctype="text/plain" title="Press Enter For Search" action="./_search.html">
		<input id="pub_headFormText" class="input-plain" type="search" 
			name="query" autocomplete="off" placeholder="Search" value="" />
		<button id="pub_headFormIcon" class="fas fa-search" type="submit"></button>
	</form>
	
	<a id="pub_headCode" class="button" title="Get Source From GitHub" target="_blank" href=
	"https://github.com/xjwiki/cavalryGirls/"><i class="fab fa-github"></i></a>
	
	<button id="pub_headBulb" type="button" title="Toggled Wihte Or Black" onclick=
	"xj.basic.changeTheme('cycle')"><i class="fas fa-lightbulb"></i></button>
</div>



<div id="pub_main">



<section><h2 id="heading01">01. 结果展示<i id="matchItems" style="float:right;opacity:0.5;">0 Result</i></h2>

<p id="nothing" style="display:none;">
	<span style="float:left;width:40px;height:48px;color:#999;line-height:48px;
	text-align:center;font-size:24px;"><i class="fas fa-circle-exclamation"></i></span>
	<span style="padding-left:8px;">没有搜索到任何匹配的数据, 请检查拼写或尝试着增减关键词</span><br />
	<span style="padding-left:8px;">Search Result is 0, Check Spell or Add / Delete Letter</span><br />
</p>

<p id="loading" style="">
	<span class="xj-basic-loadring" 
	style="float:left;width:40px;height:48px;opacity:0.75;"></span>
	<span style="padding-left:8px;">正在努力加载</span><br /><span style="padding-left:8px;">Data Loading</span><br />
</p>

<div id="wrapper">
	<!--◇
	<p>┄┄┄┄</p>
	<p class="anchors">
		<i class="anchorsTip">1 Match</i>
		<a    class="anchorsTitle" href="../index.html">攻略百科: 网站首页<br /><i>../index.html</i></a>
		<span class="anchorsContent">… 好感机制详解[含数值] Steam > Tangible : Beginner's Guide to Cavalry Girls BiliBili > 吴鸽有理解 : 麻雀虽小, 还真挺好玩的!《铁骑少女》Steam 游戏测评! BiliBili > 独立游戏蜥蜴君 : 终于等到你! 因涩涩卡审核跳票三个月的铁骑少女!【铁骑少女测评】 BiliBili > 木瓜椰奶冻丶 : 成分极其复杂! 这是我见过最变态的美少女机甲肉鸽游戏! 《铁骑少女》到底好不好玩? :../index<mark>.html…</mark>…</span>
	</p>
	◇-->
</div>

</section>



<section><h2 id="heading02">02. 操作提示</h2>

<p>
	01. 可用 [简体中文/繁体中文/English/日本語] 进行关键词的搜索, You can use [Chinese/English/Japanese] keywords for search<br />
	02. 大部分的专有名词都可被检索出来, 注意关键词的长度不能 < 2, Proper noun can be matched but length of keyword must >= 2<br />
	03. 多关键词可用空格隔开, 满足所有关键词才匹配(不会模糊匹配), Support multiple keyword searched(keyword devide by space)<br />
</p>

</section>



<style>
.anchorsTip{float:right;opacity:0.5;}
.anchorsTitle{display:inline-block;margin-bottom:8px;}
.anchorsContent{display:block;overflow:hidden;text-overflow:ellipsis;opacity:1;
display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;max-width:960px;max-height:72px;}
/* 默认是省略成 3 行, 但窗口宽度 <= 512 时改成 6 行 */
</style>



<script>if(location.protocol.includes('file') === true){ document.write(`<script src="../static/cjs/_searchLibary.js?time=2025-11-08T23:59:59UTC+8"><\/script>`) }</script>
<script src="../static/plugin/jszip/3.10.1/dist/jszip.min.js"></script>
<script>
(function(){

// 全角字符在 Unicode 里的 range 值
let cjkRange = [ // 待校验补全
	[0x4E00, 0x9FFF],	// 常用汉字字符, 含[简体中文/繁体中文/日文汉字/韩文汉字]
	[0x3040, 0x309F],	// 基本的平假名字符, 浊音符号, 半浊音符号等
	[0x30A0, 0x30FF],	// 基本的片假名字符, 浊音符号, 半浊音符号等
	[0xAC00, 0xD7AF],	// 现代韩文中使用的所有音节字符
	[0xFF00, 0xFFEF],	// [全角拉丁字母/全角数字/全角平假名片假名/全角标点符号], 包括: ！＂＃＄％＆＇（）＊＋，－．／０-９：；＜＝＞？＠Ａ-Ｚ［＼］＾＿｀ａ-ｚ｛｜｝～
	[0x3000, 0x303F],	// 额外添加的的中日韩全角符号和标点, 包含: 《》【】、。・「」『』〃〄々〆〇〒〓〠〡〢〣〤〥〦〧〨〩〪〭〮〯〫〬〰〱〲〳〴〵〶〷〸〹〺〻〼〽〾〿
];

// 判断传入的字符参数是否为全角字符
let isFullChar = function(char){
	let code = char.charCodeAt(0);
	return cjkRange.some(function(value){ 
	return (code>=value[0] && code<=value[1]) });
};

// 计算传入的字符参数需要的显示宽度
let getTextWidth = function(text){
	let width = 0;
	text.split('').forEach(function(char){
		if(isFullChar(char) === true){ width += 2 }else{ width += 1 };
	});
	return width ;
};

// --------------------------------

// 取搜索可能出现的三个节点实例对象
let jqi_loading = $('#loading');
let jqi_nothing = $('#nothing');
let jqi_wrapper = $('#wrapper');

// 获取数据后首次操作得追加标题路径
let firstSetting = function(){
window.xj2._searchLibary.forEach(function(item){ 
item.text = item.head +': '+ item.text +' :'+ item.path }); searchAction(); };

// 获取 url 的 query 并填到输入框里
let ele_headFormText = document.getElementById('pub_headFormText');
let query = new URLSearchParams(location.search).get('query').trim().replace(/ {2,}/g, ' ');
if(query !== '' && query !== null && query !== undefined){ ele_headFormText.setAttribute('value', query), ele_headFormText.value = query };

// --------------------------------

// 搜索后在数据库查找目标并生成结果
let searchAction = function(){
	
	// 获取搜索栏的字符
	query = ele_headFormText.value.trim().replace(/\s{2,}/g, ' ');
	
	// 去掉太短的关键词
	query = query.split(' ').filter(function(singleKeyword){ if(singleKeyword.length >= 2){ return singleKeyword } });
	
	// 截断太长的关键词
	query = query.map(function(text){ return text.slice(0, 60) });
	
	// 总得清掉搜索内容
	jqi_wrapper.empty();
	
	// 如果并没有关键词
	if(query.length === 0){
		document.getElementById('matchItems').textContent = '0 Result';
		jqi_nothing.show(), jqi_loading.hide();
		return;
	};
	
	// 遍历所有数据匹配
	let matchCount = 0, htmlText = '';
	window.xj2._searchLibary.forEach(function(item){
		
		// 必须匹配上所有关键词
		let matchLength = 0;
		query.forEach(function(text){
			if(new RegExp(text, 'i').test(
			item.text) === true){ matchLength+=1 };
		});
		if(matchLength !== query.length){ return };
		
		// 多项匹配就只取前四项
		matchCount += 1;
		let queryJoin = query.join('|');
		let regexp = null, result = [], string = '', stringWidth = 0;
		
		// 若长度不够三行就翻倍
		if(stringWidth < 360){
			regexp = new RegExp('.{00,45}('+queryJoin+').{00,45}', 'ig'), result = item.text.match(regexp), string = '';
			result.forEach(function(e, i){ if(i <= 3){ string += (' … '+e) } });
			stringWidth = getTextWidth(string);
		};
		if(stringWidth < 360){
			regexp = new RegExp('.{00,90}('+queryJoin+').{00,90}', 'ig'), result = item.text.match(regexp), string = '';
			result.forEach(function(e, i){ if(i <= 2){ string += (' … '+e) } });
			stringWidth = getTextWidth(string);
		};
		if(stringWidth < 360){
			regexp = new RegExp('.{0,180}('+queryJoin+').{0,180}', 'ig'), result = item.text.match(regexp), string = '';
			result.forEach(function(e, i){ if(i <= 1){ string += (' … '+e) } });
			stringWidth = getTextWidth(string);
		};
		if(stringWidth < 360){
			regexp = new RegExp('.{0,360}('+queryJoin+').{0,360}', 'ig'), result = item.text.match(regexp), string = '';
			result.forEach(function(e, i){ if(i <= 0){ string += (' … '+e) } });
			stringWidth = getTextWidth(string);
		};
		
		// 去掉累加多出来的空格
		string = string.replace(/ {2,}/g, ' ').trim();
		
		let matchList = new RegExp('^(.*?)(' +
		queryJoin+')(.*?)$','i').exec(string);
		
		let leftString = matchList[1];
		let rightString = matchList[3];
		let targetString = matchList[2];
		
		let leftStringWidth = getTextWidth(leftString);
		let rightStringWidth = getTextWidth(rightString);
		let targetStringWidth = getTextWidth(targetString);
		
		// - 2 是因需要前缀"… "
		if(leftStringWidth >= 360 - 2 - targetStringWidth){
			while(leftStringWidth >= 
			360 - 2 - targetStringWidth){
				leftString = leftString.slice(1);
				leftStringWidth = getTextWidth(leftString);
			};
			string = '… ' + leftString + targetString + rightString;
		};
		
		// 高亮搜索内容
		string = string.replace(new RegExp(queryJoin,'ig')
		, function($0){ return '<mark>'+ $0 +'</mark>' });
		
		// 生成搜索结果
		htmlText += ('<p>————</p><p class="anchors">' +
			
			'<i class="anchorsTip">'+ item.text.match(new 
			RegExp(queryJoin,'gi')).length + ' Match</i>' 
			
			+ '<a class="anchorsTitle" href="'+ item.path +'">'
			+ item.head + '<br /><i>' + item.path + '</i></a>' +
			
			'<span class="anchorsContent">' + string + '…</span>' +
			
		'</p>');
		
	});
	
	// 将结果写入页面中
	if(htmlText === ''){ jqi_nothing.show(), jqi_loading.hide() }
	else{ jqi_nothing.hide(), jqi_loading.hide(), jqi_wrapper.append(htmlText), $('#matchItems').text(matchCount+' Result') };
	
};

// http 模式才使用 fetch 读取压缩包
if(location.protocol.includes(
'file') === true){ firstSetting('file') }else{
	fetch('../static/cjs/_searchLibary.7z?time=2025-11-08T23:59:59UTC+8')
	.then(function(value){ return value.blob() })
	.then(function(value){
		JSZip.loadAsync(value).then(function(zip){
			zip.file('_searchLibary.js').async('string').then(function
			(value){ window.xj2._searchLibary = JSON.parse(value), firstSetting('http') });
		});
	});
};

// --------------------------------

// 阻止表单提交跳转, 改用 pushState
document.getElementById('pub_headForm').addEventListener('submit', function(e){
	
	e.preventDefault();
	if(window.xj2._searchLibary === undefined){ return };
	history.pushState({}, '', location.origin + location.pathname + '?query=' + 
	ele_headFormText.value.trim().replace(/(\s)+/g,'+'));
	searchAction('找');
	
}, false);

// 监听 popstate 同步输入和搜索结果
window.addEventListener('popstate', function(e){
	
	if(window.xj2._searchLibary === undefined){ return };
	let query = new URLSearchParams(location.search)
	.get('query').trim().replace(/ {2,}/g, ' ');
	
	ele_headFormText.setAttribute('value', query);
	ele_headFormText.value = query;
	searchAction('找');
	
});

})();
</script>



</div> <!--main--->



<div id="pub_foot">
	<div>Licence: <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0 DEED</a></div>
	<div>Copyright © 2024-<script>document.write(new Date().getFullYear())</script> XJ.Chen | V0.2.0</div>
</div>
</div>
</div>



<div id="pub_tool">
	<div id="pub_toolPack">
		<button id="pub_toolBackToTop" type="button" title="Back to Top"><i class="fas fa-angles-up"></i></button>
		<button id="pub_toolNavigated" type="button" title="Switch Link"><i class="fas fa-list-ul"></i></button>
		<div id="pub_toolAnchorTip">
				<a href="#heading01">01. 结果展示</a>
				<a href="#heading02">02. 操作提示</a>
		</div>
	</div>
</div>



<script>if(location.hostname === 'xjwiki.github.io'){ document.write(`<script async src="https://www.googletagmanager.com/gtag/js?id=G-HJKKVNP3TC"><\/script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-HJKKVNP3TC");<\/script>`) }else if(location.hostname.includes('192.168.') === false){ document.write(`<script>!function(a,b,c){var d,e,f,g,h;for((b[c]=b[c]||[]).push(function(){try{b.yaCounter97880532=new Ya.Metrika({id:97880532,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})}catch(a){}}),d=a.getElementsByTagName("script")[0],e="https://mc.yandex.ru/metrika/watch.js",f=a.createElement("script"),g=function(){d.parentNode.insertBefore(f,d)},h=0;h<document.scripts.length;h++)if(document.scripts[h].src===e)return;f.type="text/javascript",f.async=!0,f.src=e,"[object Opera]"==b.opera?a.addEventListener("DOMContentLoaded",g,!1):g()}(document,window,"yandex_metrika_callbacks");<\/script>`) };</script>
</body>
</html>


